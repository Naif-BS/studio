(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42],{965:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(157).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},2837:(e,a,t)=>{Promise.resolve().then(t.bind(t,7086))},3158:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(157).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},7086:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>N});var s=t(5155),i=t(2115),l=t(1308),r=t(3211),n=t(3473),o=t(965),c=t(3158);(0,t(157).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var d=t(9434),u=t(285);let m=e=>{let{className:a,...t}=e;return(0,s.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,d.cn)("mx-auto flex w-full justify-center",a),...t})};m.displayName="Pagination";let p=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)("ul",{ref:a,className:(0,d.cn)("flex flex-row items-center gap-1",t),...i})});p.displayName="PaginationContent";let h=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)("li",{ref:a,className:(0,d.cn)("",t),...i})});h.displayName="PaginationItem";let f=e=>{let{className:a,isActive:t,size:i="icon",...l}=e;return(0,s.jsx)("a",{"aria-current":t?"page":void 0,className:(0,d.cn)((0,u.r)({variant:t?"outline":"ghost",size:i}),a),...l})};f.displayName="PaginationLink";let x=e=>{let{className:a,...t}=e;return(0,s.jsxs)(f,{"aria-label":"Go to previous page",size:"default",className:(0,d.cn)("gap-1 pl-2.5",a),...t,children:[(0,s.jsx)(o.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Previous"})]})};x.displayName="PaginationPrevious";let v=e=>{let{className:a,...t}=e;return(0,s.jsxs)(f,{"aria-label":"Go to next page",size:"default",className:(0,d.cn)("gap-1 pr-2.5",a),...t,children:[(0,s.jsx)("span",{children:"Next"}),(0,s.jsx)(c.A,{className:"h-4 w-4"})]})};v.displayName="PaginationNext";var g=t(7481);let j=(0,i.lazy)(()=>Promise.all([t.e(19),t.e(794),t.e(467)]).then(t.bind(t,4233)));function N(){let[e,a]=(0,i.useState)([]),[t,o]=(0,i.useState)(!0),[c,d]=(0,i.useState)({status:"",mediaMaterial:"",platform:"",searchTerm:""}),{toast:u}=(0,g.dj)(),[N,w]=(0,i.useState)(1),[y,k]=(0,i.useState)(null),[C,A]=(0,i.useState)(!1);(0,i.useEffect)(()=>{(async()=>{o(!0),await new Promise(e=>setTimeout(e,500)),a((0,n.oP)()),o(!1)})()},[]);let P=(0,i.useMemo)(()=>(w(1),e.filter(e=>{var a;let t=(null===(a=c.searchTerm)||void 0===a?void 0:a.toLowerCase())||"";return(!c.status||e.status===c.status)&&(!c.mediaMaterial||e.mediaMaterial===c.mediaMaterial)&&(!c.platform||e.platform===c.platform)&&(!c.searchTerm||e.serialNumber.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.platform&&e.platform.toLowerCase().includes(t)||e.mediaMaterial&&e.mediaMaterial.toLowerCase().includes(t)||e.reportedBy&&e.reportedBy.toLowerCase().includes(t))}).sort((e,a)=>new Date(a.receivedAt).getTime()-new Date(e.receivedAt).getTime())),[e,c]),b=(0,i.useMemo)(()=>{let e=(N-1)*10;return P.slice(e,e+10)},[P,N]),L=Math.ceil(P.length/10),M=e=>w(e);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Incident Logbook"}),(0,s.jsx)(r.A,{filters:c,onFilterChange:d}),(0,s.jsx)(l.A,{tickets:b,isLoading:t,onRowClick:a=>{let t=e.find(e=>e.id===a);t&&(k(t),A(!0))},showActionsColumn:!0}),L>1&&!t&&(0,s.jsx)(m,{children:(0,s.jsxs)(p,{children:[(0,s.jsx)(h,{children:(0,s.jsx)(x,{href:"#",onClick:e=>{e.preventDefault(),M(N-1)},className:1===N?"pointer-events-none opacity-50":void 0})}),Array.from({length:L},(e,a)=>a+1).map(e=>(0,s.jsx)(h,{children:(0,s.jsx)(f,{href:"#",onClick:a=>{a.preventDefault(),M(e)},isActive:e===N,children:e})},e)),(0,s.jsx)(h,{children:(0,s.jsx)(v,{href:"#",onClick:e=>{e.preventDefault(),M(N+1)},className:N===L?"pointer-events-none opacity-50":void 0})})]})}),(0,s.jsx)(i.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading modal..."}),children:y&&(0,s.jsx)(j,{ticket:y,isOpen:C,onOpenChange:A})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[668,644,59,375,737,812,483,634,441,684,358],()=>a(2837)),_N_E=e.O()}]);