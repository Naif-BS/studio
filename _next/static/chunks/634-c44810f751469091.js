"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{1308:(e,a,s)=>{s.d(a,{A:()=>T});var r=s(5155),l=s(2115),t=s(9434);let i=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:a,className:(0,t.cn)("w-full caption-bottom text-sm",s),...l})})});i.displayName="Table";let d=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)("thead",{ref:a,className:(0,t.cn)("[&_tr]:border-b",s),...l})});d.displayName="TableHeader";let n=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)("tbody",{ref:a,className:(0,t.cn)("[&_tr:last-child]:border-0",s),...l})});n.displayName="TableBody",l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)("tfoot",{ref:a,className:(0,t.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...l})}).displayName="TableFooter";let c=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)("tr",{ref:a,className:(0,t.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...l})});c.displayName="TableRow";let o=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)("th",{ref:a,className:(0,t.cn)("h-12 px-4 text-left align-middle font-medium text-foreground [&:has([role=checkbox])]:pr-0",s),...l})});o.displayName="TableHead";let m=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)("td",{ref:a,className:(0,t.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...l})});m.displayName="TableCell",l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)("caption",{ref:a,className:(0,t.cn)("mt-4 text-sm text-muted-foreground",s),...l})}).displayName="TableCaption";var h=s(2415),x=s(285),u=s(5300),f=s(9637),j=s(5844),p=s(5869),g=s(7648),N=s(1721),v=s(511),b=s(3300),y=s(8376),w=s(6318),k=s(9311),A=s(7607),M=s(4148),C=s(3072),R=s(6874),P=s.n(R),S=s(3717);function T(e){let{tickets:a,isLoading:s,onRowClick:l,showActionsColumn:t=!0,visibleColumns:R}=e,T=C.c,L=e=>{if(!e)return"N/A";try{return(0,M.GP)(new Date(e),"P",{locale:T})}catch(e){return"Invalid Date"}},_=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",s=e||"N/A";return"none"!==a?(0,r.jsx)("span",{className:"block truncate",style:{maxWidth:a},title:s,children:s}):s},D=[{key:"SerialNumber",header:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(u.A,{className:"h-4 w-4"})," Serial Number"]}),cell:e=>_(e.serialNumber,"100px")},{key:"Status",header:(0,r.jsx)("div",{className:"flex items-center gap-1",children:" Incident Status"}),cell:e=>(0,r.jsx)(h.S,{status:e.status})},{key:"Description",header:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(f.A,{className:"h-4 w-4"})," Incident Description"]}),cell:e=>_(e.description,"120px")},{key:"Media Material",header:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(j.A,{className:"h-4 w-4"})," Media Material"]}),cell:e=>_("Other"===e.mediaMaterial&&e.otherMediaMaterial?"Other: ".concat(e.otherMediaMaterial):S.ER[e.mediaMaterial]||e.mediaMaterial,"100px")},{key:"Media Platform",header:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(p.A,{className:"h-4 w-4"})," Media Platform"]}),cell:e=>_("Other"===e.platform&&e.otherPlatform?"Other: ".concat(e.otherPlatform):S.Wm[e.platform]||e.platform,"100px")},{key:"Received",header:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(g.A,{className:"h-4 w-4"})," Date Received"]}),cell:e=>L(e.receivedAt)},{key:"ReportedBy",header:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(N.A,{className:"h-4 w-4"})," Reported By"]}),cell:e=>_(e.reportedBy,"100px")},{key:"ActionsLogged",header:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(v.A,{className:"h-4 w-4"})," Logged Actions"]}),cell:e=>(0,r.jsx)("span",{className:"text-center",children:e.actionsLog.length})},{key:"StartedProcessing",header:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(b.A,{className:"h-4 w-4"})," Processing Started"]}),cell:e=>L(e.startedProcessingAt)},{key:"ClosedAt",header:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(y.A,{className:"h-4 w-4"})," Resolved Date"]}),cell:e=>L(e.closedAt)},{key:"LinkToMedia",header:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(w.A,{className:"h-4 w-4"})," Link to Media Content"]}),cell:e=>e.issueLink?(0,r.jsx)(P(),{href:e.issueLink,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline truncate block max-w-[180px]",children:e.issueLink}):"N/A"},{key:"Screenshot",header:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(k.A,{className:"h-4 w-4"})," Screenshot"]}),cell:e=>e.screenshotLink?(0,r.jsx)(k.A,{className:"h-5 w-5 text-primary"}):"No"}],F=R?D.filter(e=>R.includes(e.key)):D;return s?(0,r.jsx)("div",{className:"rounded-md border",children:(0,r.jsxs)(i,{children:[(0,r.jsx)(d,{children:(0,r.jsxs)(c,{children:[F.map(e=>(0,r.jsx)(o,{className:"Actions"===e.key?"text-right w-[100px]":void 0,children:(0,r.jsx)("div",{className:"h-4 bg-muted rounded w-3/4 animate-pulse"})},e.key)),t&&(0,r.jsx)(o,{className:"text-right w-[100px]",children:(0,r.jsx)("div",{className:"h-4 bg-muted rounded w-3/4 animate-pulse ml-auto"})})]})}),(0,r.jsx)(n,{children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,r.jsxs)(c,{children:[F.map(e=>(0,r.jsx)(m,{children:(0,r.jsx)("div",{className:"h-4 bg-muted rounded w-full animate-pulse"})},e.key)),t&&(0,r.jsx)(m,{className:"text-right",children:(0,r.jsx)("div",{className:"h-8 w-20 bg-muted rounded animate-pulse ml-auto"})})]},a))})]})}):0===a.length?(0,r.jsxs)("div",{className:"text-center py-10 border rounded-md bg-card",children:[(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"No incidents found."}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"There are no incidents matching the current criteria."})]}):(0,r.jsx)("div",{className:"rounded-md border",children:(0,r.jsxs)(i,{children:[(0,r.jsx)(d,{children:(0,r.jsxs)(c,{className:"cursor-default",children:[F.map(e=>(0,r.jsx)(o,{children:e.header},e.key)),t&&(0,r.jsx)(o,{className:"text-right w-[100px]",children:"Actions"})]})}),(0,r.jsx)(n,{children:a.map(e=>(0,r.jsxs)(c,{onClick:l&&t?()=>l(e.id):void 0,className:l&&t?"cursor-pointer hover:bg-muted/50":"",children:[F.map(a=>(0,r.jsx)(m,{children:a.cell(e)},a.key)),t&&(0,r.jsx)(m,{className:"text-right",children:(0,r.jsxs)(x.$,{variant:"outline",size:"sm",onClick:a=>{a.stopPropagation(),l&&l(e.id)},children:[(0,r.jsx)(A.A,{className:"md:me-2 h-4 w-4"})," ",(0,r.jsx)("span",{className:"hidden md:inline",children:"View Details"})]})})]},e.id))})]})})}},2415:(e,a,s)=>{s.d(a,{S:()=>h});var r=s(5155);s(2115);var l=s(2085),t=s(9434);let i=(0,l.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:a,variant:s,...l}=e;return(0,r.jsx)("div",{className:(0,t.cn)(i({variant:s}),a),...l})}var n=s(154),c=s(172),o=s(8127),m=s(1133);function h(e){let{status:a,className:s}=e,l={New:{icon:n.A,color:"bg-blue-500 hover:bg-blue-600",textColor:"text-blue-50",label:"New"},Processing:{icon:c.A,color:"bg-amber-500 hover:bg-amber-600",textColor:"text-amber-50",label:"Processing"},Closed:{icon:o.A,color:"bg-green-500 hover:bg-green-600",textColor:"text-green-50",label:"Resolved"}}[a]||{icon:m.A,color:"bg-gray-500 hover:bg-gray-600",textColor:"text-gray-50",label:"Unknown"},i=l.icon;return(0,r.jsxs)(d,{variant:"default",className:(0,t.cn)("flex items-center gap-1.5 px-2.5 py-1 text-xs",l.color,l.textColor,s),children:[(0,r.jsx)(i,{className:(0,t.cn)("h-3.5 w-3.5","Processing"===a?"animate-spin":"")}),(0,r.jsx)("span",{children:l.label})]})}},3211:(e,a,s)=>{s.d(a,{A:()=>h});var r=s(5155);s(2115);var l=s(9409),t=s(285),i=s(2523),d=s(5057),n=s(3717),c=s(6861),o=s(9434);let m="__ALL__";function h(e){let{filters:a,onFilterChange:s,showSearch:h=!0}=e,x=a.status||a.mediaMaterial||a.platform||h&&a.searchTerm;return(0,r.jsxs)("div",{className:(0,o.cn)("p-3 mb-4 border-b"),children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 items-end",children:[h&&(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(d.J,{htmlFor:"search-tickets",children:"Search Incidents"}),(0,r.jsx)(i.p,{id:"search-tickets",placeholder:"Search by keyword, serial, description...",value:a.searchTerm||"",onChange:e=>{s({...a,searchTerm:e.target.value})}})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(d.J,{htmlFor:"filter-status",children:"Incident Status"}),(0,r.jsxs)(l.l6,{value:a.status||m,onValueChange:e=>{s({...a,status:e===m?"":e})},children:[(0,r.jsx)(l.bq,{id:"filter-status",children:(0,r.jsx)(l.yv,{placeholder:"Any Status"})}),(0,r.jsxs)(l.gC,{children:[(0,r.jsx)(l.eb,{value:m,children:"Any Status"},"all-statuses"),n.j0.map(e=>(0,r.jsx)(l.eb,{value:e,children:n.Z7[e]||e},e))]})]})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(d.J,{htmlFor:"filter-media-material",children:"Media Material"}),(0,r.jsxs)(l.l6,{value:a.mediaMaterial||m,onValueChange:e=>{s({...a,mediaMaterial:e===m?"":e})},children:[(0,r.jsx)(l.bq,{id:"filter-media-material",children:(0,r.jsx)(l.yv,{placeholder:"Any Material"})}),(0,r.jsxs)(l.gC,{children:[(0,r.jsx)(l.eb,{value:m,children:"Any Material"},"all-materials"),n.O2.map(e=>(0,r.jsx)(l.eb,{value:e,children:n.ER[e]||e},e))]})]})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(d.J,{htmlFor:"filter-platform",children:"Media Platform"}),(0,r.jsxs)(l.l6,{value:a.platform||m,onValueChange:e=>{s({...a,platform:e===m?"":e})},children:[(0,r.jsx)(l.bq,{id:"filter-platform",children:(0,r.jsx)(l.yv,{placeholder:"Any Media Platform"})}),(0,r.jsxs)(l.gC,{children:[(0,r.jsx)(l.eb,{value:m,children:"Any Media Platform"},"all-platforms"),n.MD.map(e=>(0,r.jsx)(l.eb,{value:e,children:n.Wm[e]||e},e))]})]})]})]}),x&&(0,r.jsx)("div",{className:"mt-3 flex justify-end",children:(0,r.jsxs)(t.$,{variant:"ghost",onClick:()=>{s({status:"",mediaMaterial:"",platform:"",searchTerm:""})},className:"w-full sm:w-auto",children:[(0,r.jsx)(c.A,{className:"me-2 h-4 w-4"})," Clear Filters"]})})]})}}}]);