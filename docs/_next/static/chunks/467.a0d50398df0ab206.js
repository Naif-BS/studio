"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[165,467,905],{283:(e,t,a)=>{a.d(t,{A:()=>d,AuthProvider:()=>i});var n=a(5155),r=a(2115),o=a(5695),s=a(7481);let l=(0,r.createContext)(void 0),i=e=>{let{children:t}=e,[a,i]=(0,r.useState)(null),[d,c]=(0,r.useState)(!0),u=(0,o.useRouter)(),{toast:f}=(0,s.dj)();(0,r.useEffect)(()=>{c(!0);try{let e=localStorage.getItem("mediaScopeUser");if(e){let t=JSON.parse(e);t?(t.displayName&&""!==t.displayName.trim()||(t.displayName=(t.email?t.email.split("@")[0].trim():"")||"User"),t.displayName||(t.displayName="User"),t.photoURL="https://placehold.co/100x100.png?text=".concat((t.displayName[0]||"U").toUpperCase()),i(t)):i(null)}}catch(e){console.error("Failed to load user from localStorage:",e),localStorage.removeItem("mediaScopeUser"),i(null)}finally{c(!1)}},[]);let m=async(e,t)=>{c(!0);try{await new Promise(e=>setTimeout(e,1e3));let t=e||"user@example.com",a=t.split("@")[0].trim();a||(a="User");let n=a,r={uid:"mock-user-123",email:t,displayName:n,photoURL:"https://placehold.co/100x100.png?text=".concat((n[0]||"U").toUpperCase()),emailVerified:!0,isAnonymous:!1,metadata:{},providerData:[],providerId:"password",refreshToken:"mock-refresh-token",tenantId:null,delete:async()=>{},getIdToken:async()=>"mock-id-token",getIdTokenResult:async()=>({token:"mock-id-token",claims:{},expirationTime:"",issuedAtTime:"",signInProvider:null,signInSecondFactor:null}),reload:async()=>{},toJSON:()=>({})};i(r),localStorage.setItem("mediaScopeUser",JSON.stringify(r)),f({title:"Sign In Successful (Mock)",description:"Redirecting to your dashboard...",variant:"default"}),u.push("/dashboard")}catch(e){console.error("Login process failed:",e),f({title:"Sign In Failed (Mock)",description:"Could not sign in at this time. Please try again later.",variant:"destructive"})}finally{c(!1)}},p=async()=>{c(!0);try{await new Promise(e=>setTimeout(e,500)),i(null),localStorage.removeItem("mediaScopeUser"),f({title:"Signed Out",description:"You have been successfully signed out.",variant:"default"}),u.push("/login")}catch(e){console.error("Logout process failed:",e),f({title:"Sign Out Failed",description:"Could not sign out at this time.",variant:"destructive"})}finally{c(!1)}};return(0,n.jsx)(l.Provider,{value:{user:a,isAuthenticated:!!a,isLoading:d,login:m,logout:p},children:t})},d=()=>{let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4233:(e,t,a)=>{a.r(t),a.d(t,{default:()=>eu});var n=a(5155),r=a(2115),o=a(5185),s=a(6101),l=a(6081),i=a(1285),d=a(5845),c=a(9178),u=a(7900),f=a(4378),m=a(8905),p=a(3655),g=a(2293),v=a(3795),x=a(8168),N=a(9708),h="Dialog",[y,w]=(0,l.A)(h),[j,b]=y(h),R=e=>{let{__scopeDialog:t,children:a,open:o,defaultOpen:s,onOpenChange:l,modal:c=!0}=e,u=r.useRef(null),f=r.useRef(null),[m=!1,p]=(0,d.i)({prop:o,defaultProp:s,onChange:l});return(0,n.jsx)(j,{scope:t,triggerRef:u,contentRef:f,contentId:(0,i.B)(),titleId:(0,i.B)(),descriptionId:(0,i.B)(),open:m,onOpenChange:p,onOpenToggle:r.useCallback(()=>p(e=>!e),[p]),modal:c,children:a})};R.displayName=h;var C="DialogTrigger";r.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,l=b(C,a),i=(0,s.s)(t,l.triggerRef);return(0,n.jsx)(p.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":q(l.open),...r,ref:i,onClick:(0,o.m)(e.onClick,l.onOpenToggle)})}).displayName=C;var D="DialogPortal",[I,O]=y(D,{forceMount:void 0}),k=e=>{let{__scopeDialog:t,forceMount:a,children:o,container:s}=e,l=b(D,t);return(0,n.jsx)(I,{scope:t,forceMount:a,children:r.Children.map(o,e=>(0,n.jsx)(m.C,{present:a||l.open,children:(0,n.jsx)(f.Z,{asChild:!0,container:s,children:e})}))})};k.displayName=D;var S="DialogOverlay",A=r.forwardRef((e,t)=>{let a=O(S,e.__scopeDialog),{forceMount:r=a.forceMount,...o}=e,s=b(S,e.__scopeDialog);return s.modal?(0,n.jsx)(m.C,{present:r||s.open,children:(0,n.jsx)(P,{...o,ref:t})}):null});A.displayName=S;var P=r.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,o=b(S,a);return(0,n.jsx)(v.A,{as:N.DX,allowPinchZoom:!0,shards:[o.contentRef],children:(0,n.jsx)(p.sG.div,{"data-state":q(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),T="DialogContent",E=r.forwardRef((e,t)=>{let a=O(T,e.__scopeDialog),{forceMount:r=a.forceMount,...o}=e,s=b(T,e.__scopeDialog);return(0,n.jsx)(m.C,{present:r||s.open,children:s.modal?(0,n.jsx)(U,{...o,ref:t}):(0,n.jsx)(F,{...o,ref:t})})});E.displayName=T;var U=r.forwardRef((e,t)=>{let a=b(T,e.__scopeDialog),l=r.useRef(null),i=(0,s.s)(t,a.contentRef,l);return r.useEffect(()=>{let e=l.current;if(e)return(0,x.Eq)(e)},[]),(0,n.jsx)(M,{...e,ref:i,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.m)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=a.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,o.m)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,o.m)(e.onFocusOutside,e=>e.preventDefault())})}),F=r.forwardRef((e,t)=>{let a=b(T,e.__scopeDialog),o=r.useRef(!1),s=r.useRef(!1);return(0,n.jsx)(M,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,r;null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),t.defaultPrevented||(o.current||null===(r=a.triggerRef.current)||void 0===r||r.focus(),t.preventDefault()),o.current=!1,s.current=!1},onInteractOutside:t=>{var n,r;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||(o.current=!0,"pointerdown"!==t.detail.originalEvent.type||(s.current=!0));let l=t.target;(null===(r=a.triggerRef.current)||void 0===r?void 0:r.contains(l))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),M=r.forwardRef((e,t)=>{let{__scopeDialog:a,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:i,...d}=e,f=b(T,a),m=r.useRef(null),p=(0,s.s)(t,m);return(0,g.Oh)(),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.n,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:l,onUnmountAutoFocus:i,children:(0,n.jsx)(c.qW,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":q(f.open),...d,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(J,{titleId:f.titleId}),(0,n.jsx)(X,{contentRef:m,descriptionId:f.descriptionId})]})]})}),_="DialogTitle",L=r.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,o=b(_,a);return(0,n.jsx)(p.sG.h2,{id:o.titleId,...r,ref:t})});L.displayName=_;var W="DialogDescription",z=r.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,o=b(W,a);return(0,n.jsx)(p.sG.p,{id:o.descriptionId,...r,ref:t})});z.displayName=W;var B="DialogClose",G=r.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,s=b(B,a);return(0,n.jsx)(p.sG.button,{type:"button",...r,ref:t,onClick:(0,o.m)(e.onClick,()=>s.onOpenChange(!1))})});function q(e){return e?"open":"closed"}G.displayName=B;var V="DialogTitleWarning",[Z,H]=(0,l.q)(V,{contentName:T,titleName:_,docsSlug:"dialog"}),J=e=>{let{titleId:t}=e,a=H(V),n="`".concat(a.contentName,"` requires a `").concat(a.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(a.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(a.docsSlug);return r.useEffect(()=>{t&&!document.getElementById(t)&&console.error(n)},[n,t]),null},X=e=>{let{contentRef:t,descriptionId:a}=e,n=H("DialogDescriptionWarning"),o="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(n.contentName,"}.");return r.useEffect(()=>{var e;let n=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");a&&n&&!document.getElementById(a)&&console.warn(o)},[o,t,a]),null},K=a(5318),Y=a(9434);let $=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(A,{ref:t,className:(0,Y.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});$.displayName=A.displayName;let Q=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,n.jsxs)(k,{children:[(0,n.jsx)($,{}),(0,n.jsxs)(E,{ref:t,className:(0,Y.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[r,(0,n.jsxs)(G,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(K.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});Q.displayName=E.displayName;let ee=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,Y.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};ee.displayName="DialogHeader";let et=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,Y.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};et.displayName="DialogFooter";let ea=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(L,{ref:t,className:(0,Y.cn)("text-lg font-bold leading-none tracking-tight",a),...r})});ea.displayName=L.displayName;let en=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(z,{ref:t,className:(0,Y.cn)("text-sm text-muted-foreground",a),...r})});en.displayName=z.displayName;var er=a(285),eo=a(6424),es=a(7648),el=a(3168),ei=a(3072),ed=a(2415),ec=a(6794);function eu(e){let{ticket:t,isOpen:a,onOpenChange:r}=e;if(!t)return null;let o=ei.c;return(0,n.jsx)(R,{open:a,onOpenChange:r,children:(0,n.jsxs)(Q,{className:"sm:max-w-2xl max-h-[90vh] flex flex-col p-0 bg-card hide-dialog-close-button",children:[(0,n.jsxs)(ee,{className:"p-6 pb-0 border-b",children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[(0,n.jsx)(ea,{className:"text-2xl",children:t.serialNumber}),(0,n.jsx)(ed.S,{status:t.status,className:"px-3 py-1.5 text-sm"})]}),(0,n.jsxs)(en,{className:"text-sm text-muted-foreground flex items-center pt-1",children:[(0,n.jsx)(es.A,{className:"h-4 w-4 me-1.5"}),"Received: ".concat((0,el.GP)(new Date(t.receivedAt),"PPp",{locale:o})," by ").concat(t.reportedBy)]})]}),(0,n.jsx)(eo.F,{className:"flex-grow overflow-y-auto",children:(0,n.jsxs)("div",{className:"p-6",children:[" ",(0,n.jsx)(ec.default,{ticket:t,isModalVariant:!0})]})}),(0,n.jsx)(et,{className:"p-6 pt-4 border-t",children:(0,n.jsx)(er.$,{variant:"outline",onClick:()=>r(!1),children:"Close"})})]})})}},5318:(e,t,a)=>{a.d(t,{A:()=>n});let n=(0,a(157).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5695:(e,t,a)=>{var n=a(8999);a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})},6695:(e,t,a)=>{a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>i,Zp:()=>s,aR:()=>l,wL:()=>u});var n=a(5155),r=a(2115),o=a(9434);let s=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});s.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",a),...r})});l.displayName="CardHeader";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("text-2xl font-bold leading-none tracking-tight",a),...r})});i.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},8905:(e,t,a)=>{a.d(t,{C:()=>s});var n=a(2115),r=a(6101),o=a(2712),s=e=>{let{present:t,children:a}=e,s=function(e){var t,a;let[r,s]=n.useState(),i=n.useRef({}),d=n.useRef(e),c=n.useRef("none"),[u,f]=(t=e?"mounted":"unmounted",a={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},n.useReducer((e,t)=>{let n=a[e][t];return null!=n?n:e},t));return n.useEffect(()=>{let e=l(i.current);c.current="mounted"===u?e:"none"},[u]),(0,o.N)(()=>{let t=i.current,a=d.current;if(a!==e){let n=c.current,r=l(t);e?f("MOUNT"):"none"===r||(null==t?void 0:t.display)==="none"?f("UNMOUNT"):a&&n!==r?f("ANIMATION_OUT"):f("UNMOUNT"),d.current=e}},[e,f]),(0,o.N)(()=>{if(r){var e;let t;let a=null!==(e=r.ownerDocument.defaultView)&&void 0!==e?e:window,n=e=>{let n=l(i.current).includes(e.animationName);if(e.target===r&&n&&(f("ANIMATION_END"),!d.current)){let e=r.style.animationFillMode;r.style.animationFillMode="forwards",t=a.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=e)})}},o=e=>{e.target===r&&(c.current=l(i.current))};return r.addEventListener("animationstart",o),r.addEventListener("animationcancel",n),r.addEventListener("animationend",n),()=>{a.clearTimeout(t),r.removeEventListener("animationstart",o),r.removeEventListener("animationcancel",n),r.removeEventListener("animationend",n)}}f("ANIMATION_END")},[r,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:n.useCallback(e=>{e&&(i.current=getComputedStyle(e)),s(e)},[])}}(t),i="function"==typeof a?a({present:s.isPresent}):n.Children.only(a),d=(0,r.s)(s.ref,function(e){var t,a;let n=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(r=(n=null===(a=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===a?void 0:a.get)&&"isReactWarning"in n&&n.isReactWarning)?e.props.ref:e.props.ref||e.ref}(i));return"function"==typeof a||s.isPresent?n.cloneElement(i,{ref:d}):null};function l(e){return(null==e?void 0:e.animationName)||"none"}s.displayName="Presence"},9100:(e,t,a)=>{a.d(t,{w:()=>c});var n=a(5155),r=a(2115),o=a(3655),s="horizontal",l=["horizontal","vertical"],i=r.forwardRef((e,t)=>{var a;let{decorative:r,orientation:i=s,...d}=e,c=(a=i,l.includes(a))?i:s;return(0,n.jsx)(o.sG.div,{"data-orientation":c,...r?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:t})});i.displayName="Separator";var d=a(9434);let c=r.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:o=!0,...s}=e;return(0,n.jsx)(i,{ref:t,decorative:o,orientation:r,className:(0,d.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...s})});c.displayName=i.displayName}}]);